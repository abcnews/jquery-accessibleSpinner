!function(a){"undefined"!=typeof module?module.exports=a():"function"==typeof define&&"object"==typeof define.amd&&define(a),"undefined"!=typeof jQuery&&a().installPlugin()}(function(){function a(a,b){this.element=this.$element=this.options=null,this.init(a,b)}function b(b,c){return this.each(function(){var d,e,f,g,h;d=$(this),e="plugin-spinner",f=d.data(e),"object"==typeof b?h=b:(h=c,g=b),(f||"destroy"!==g)&&(f||d.data(e,f=new a(this,h)),"string"==typeof g&&f[g](h))})}return a.VERSION="0.0.2",a.DEFAULTS={spinnerText:"Loading...",spinnerClass:"spinner",spinnerTemplate:'<div class="{{spinnerClass}}">{{spinnerText}}</div>',ariaStatusText:"Please wait. We will alert when the content has loaded.",ariaAnnounceText:"The content has loaded.",accessibilityHideClass:"accessibility",doAnnouncement:!0},a.prototype={init:function(a,b){this.element=a,this.$element=$(a),this.options=this.getOptions(b),this.setAccessibleSpinnerHtml()},setAccessibleSpinnerHtml:function(){this.spinnerHtml=this.options.spinnerTemplate.replace("{{spinnerClass}}",this.options.spinnerClass).replace("{{spinnerText}}",this.options.spinnerText),this.options.doAnnouncement&&(this.spinnerHtml+='<div role="alert" class="'+this.options.accessibilityHideClass+' announcement">'+this.options.ariaStatusText+"</div>")},getDefaults:function(){return a.DEFAULTS},getOptions:function(a){return a=$.extend({},this.getDefaults(),this.$element.data(),a)},setOptions:function(a){this.options=$.extend({},this.options,a),this.setAccessibleSpinnerHtml()},start:function(){this.$element.html(this.spinnerHtml)},finish:function(){var a,b;a=$("."+this.options.spinnerClass,this.$element),this.options.doAnnouncement?(b=$(".announcement",this.$element),a.hide(),b.text(this.options.ariaAnnounceText),setTimeout(function(){b.hide()},2e3)):a.hide()}},a.isPluginInstalled=!1,a.installPlugin=function(){if(!a.isPluginInstalled){var c=$.fn.spinner;$.fn.spinner=b,$.fn.spinner.Constructor=a,$.fn.spinner.noConflict=function(){return $.fn.spinner=c,this},a.isPluginInstalled=!0}},a});