!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.AccessibleSpinner=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b){this.element=this.$element=this.options=this._defaults=null,this.init(a,b)}function d(a,b){return this.each(function(){var d,e,f,g,h;d=$(this),e="plugin-spinner",f=d.data(e),"object"==typeof a?h=a:(h=b,g=a),console.group("Plugin:"),console.log("id",d.attr("id")),console.log("method",g),console.log("options",h),console.log("this",this),console.groupEnd(),(f||"destroy"!==g)&&(f||d.data(e,f=new c(this,h)),"string"==typeof g&&f[g](h))})}c.VERSION="0.1",c.DEFAULTS={spinnerText:"Loading...",spinnerClass:"spinner",spinnerTemplate:'<div class="{{spinnerClass}}">{{spinnerText}}</div>',ariaStatusText:"Please wait. We will alert when the content has loaded.",ariaAnnounceText:"The content has loaded.",accessibilityHideClass:"accessibility",doAnnouncement:!0},c.prototype={init:function(a,b){this.element=a,this.$element=$(a),this.options=this.getOptions(b),this.setAccessibleSpinnerHtml()},setAccessibleSpinnerHtml:function(){this.spinnerHtml=this.options.spinnerTemplate.replace("{{spinnerClass}}",this.options.spinnerClass).replace("{{spinnerText}}",this.options.spinnerText),this.options.doAnnouncement&&(this.spinnerHtml+='<div role="alert" class="'+this.options.accessibilityHideClass+' announcement">'+this.options.ariaStatusText+"</div>")},getDefaults:function(){return c.DEFAULTS},getOptions:function(a){return a=$.extend({},this.getDefaults(),this.$element.data(),a)},setOptions:function(a){console.log("setting options",a),this.options=$.extend({},this.options,a),this.setAccessibleSpinnerHtml()},start:function(){console.log("START METHOD CALLED",this.$element.attr("id"),this.spinnerHtml),this.$element.html(this.spinnerHtml)},finish:function(){var a,b;a=$("."+this.options.spinnerClass,this.$element),this.options.doAnnouncement?(b=$(".announcement",this.$element),a.hide(),b.text(this.options.ariaAnnounceText),setTimeout(function(){b.hide()},2e3)):a.hide()}},c.isPluginInstalled=!1,c.installPlugin=function(){if(!c.isPluginInstalled){var a=$.fn.spinner;$.fn.spinner=d,$.fn.spinner.Constructor=c,$.fn.spinner.noConflict=function(){return $.fn.spinner=a,this},c.isPluginInstalled=!0}},b.exports=c},{}]},{},[1])(1)});